**Instruction to Programmer:**

Refactor the column groups table rendering logic to prevent an empty row from appearing when all columns within a `ColumnGroup` are set to hidden, either through closures or via the toggleable setting. The goal is to adjust the rendering so that the table does not display an empty bar when these conditions are met. Consider potential performance impacts during the refactor if applicable.