### Instruction for Programmer:

1. **Macro Update**: Update the `REPORT_IF_NOT_ZERO` macro to wrap multistatement operations using a `do { ... } while (0)` construct to ensure proper scoping.
   
2. **Formatting**: Execute `make format-fix` to correct any format issues as pointed out by the CI system.

3. **Commit Refinement**: 
   - Consolidate the number of commits to reflect contained changes.
   - Ensure that commit messages adhere to the project's title conventions as outlined in the repository's commit standards.

These changes are crucial for aligning the code with best practices, preventing subtle bugs, and maintaining code reliability and robustness.