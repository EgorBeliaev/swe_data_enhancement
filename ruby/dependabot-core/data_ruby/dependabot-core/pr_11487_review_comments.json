[
    {
        "title": "Handle Misconfigured Dependabot for PNPM Workspaces"
    },
    {
        "author": {
            "login": "PR Description"
        },
        "body": "### What are you trying to accomplish?\r\n\r\nThis PR ensures Dependabot correctly detects and prevents updates from **inside PNPM workspace subdirectories** when a **workspace root update is already configured**.\r\n\r\n#### Why?  \r\n- In **PNPM workspaces**, all dependencies should be updated from the **root directory**, where `pnpm-workspace.yaml` and `pnpm-lock.yaml` exist.\r\n- Customers sometimes **misconfigure Dependabot** by adding **both root and subdirectory updates**, which causes **no change errors** since the lockfile update is already handled at the root.\r\n- This PR raises a `MisconfiguredTooling` error when:\r\n  1. **`pnpm-workspace.yaml` exists in a parent directory (`../pnpm-workspace.yaml`)**\r\n  2. **`pnpm-lock.yaml` exists in a parent directory (`../pnpm-lock.yaml`)**\r\n  3. The update process is **executed from a subdirectory instead of the workspace root**\r\n\r\n#### What issues does this affect or fix?\r\nThis resolves **incorrect Dependabot behavior** where updates are attempted from workspace subdirectories instead of the root, causing **no change errors**.\r\n\r\n### Anything you want to highlight for special attention from reviewers?\r\n\r\n- The logic ensures that **only** cases where both `pnpm-workspace.yaml` and `pnpm-lock.yaml` are in a **parent directory** trigger an error.\r\n- Valid configurations where the entire workspace is inside a subdirectory (e.g., `/some-project` instead of `/`) **will not raise errors**.\r\n- If only one of `pnpm-workspace.yaml` or `pnpm-lock.yaml` is found in the parent directory, **the update proceeds normally**.\r\n\r\n#### \u2705 **Proper Configuration:**\r\nIf you are using **PNPM workspaces**, you should **only define the root directory (`/`)** in `dependabot.yml`. Dependabot will automatically update dependencies across all workspaces from there.\r\n\r\n```yaml\r\nversion: 2\r\nupdates:\r\n  - package-ecosystem: \"npm\"\r\n    directory: \"/\"\r\n    schedule:\r\n      interval: \"weekly\"\r\n      day: \"monday\"\r\n      time: \"09:00\"\r\n```\r\n\r\n#### \u274c **Misconfigured Dependabot:**\r\nIf you define **subdirectories (`/client`, `/server`, etc.)** separately, Dependabot may attempt to run updates **inside a workspace subdirectory**, which is not supported and will trigger an error.\r\n\r\n```yaml\r\nversion: 2\r\nupdates:\r\n  - package-ecosystem: \"npm\"\r\n    directory: \"/\"\r\n    schedule:\r\n      interval: \"weekly\"\r\n      day: \"monday\"\r\n      time: \"09:00\"\r\n  - package-ecosystem: \"npm\"\r\n    directory: \"/client\"\r\n    schedule:\r\n      interval: \"weekly\"\r\n      day: \"monday\"\r\n      time: \"09:00\"\r\n  - package-ecosystem: \"npm\"\r\n    directory: \"/server\"\r\n    schedule:\r\n      interval: \"weekly\"\r\n      day: \"monday\"\r\n      time: \"09:00\"\r\n```\r\n\r\n### How will you know you've accomplished your goal?\r\n\r\n- **Test cases** confirm that workspace subdirectory updates **trigger `MisconfiguredTooling`** when both `pnpm-workspace.yaml` and `pnpm-lock.yaml` are in a parent directory.\r\n- **Manual validation** ensures that valid PNPM workspace configurations **continue working as expected**.\r\n- Running Dependabot in a correctly configured workspace does **not raise errors**.\r\n\r\n### Checklist\r\n\r\n- [x] I have run the complete test suite to ensure all tests and linters pass.\r\n- [x] I have thoroughly tested my code changes to ensure they work as expected, including adding additional tests for new functionality.\r\n- [x] I have written clear and descriptive commit messages.\r\n- [x] I have provided a detailed description of the changes in the pull request, including the problem it addresses, how it fixes the problem, and any relevant details about the implementation.\r\n- [x] I have ensured that the code is well-documented and easy to understand.\r\n```"
    },
    {
        "author": {
            "login": "abdulapopoola"
        },
        "body": ""
    }
]